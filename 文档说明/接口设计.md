# 后端接口设计
[TOC]


## 说明
所有的接口都遵循RESTFUL风格，前后端的通信格式使用json
### 接口规范约定
所有的接口定义都包含以下7个子部分：
- 接口概述：描述接口的功能和作用
- 请求的URL：接口的URL路径
- 请求方式：HTTP的请求方法，包括GET/POST/PUT/DELETE等
- 请求参数：以json的格式进行发送
- 响应的参数：以json的格式进行响应
- 响应的状态码：表示后台处理结果
- 示例：列举请求的例子

### 状态码约定

- 200 Successful 成功处理并返回
- 400 Bad Request 成功处理，但是不返回任何内容
- 404 Not Found 不存在该资源
- 500 InternalServerError 服务内部错误，比如数据库操作失败

## 注册接口
### 接口概述
该接口用于用户的注册请求，使用户可以进行登录系统并使用
### 请求URL
`http://192.168.0.149:8888/user/register`
### 请求方式
`POST`
### 请求参数
```json
{
    "name":"",
    "password":"",
    "email":"",
    "code":""
}
```
### 响应参数
```json
{
    "msg":""
}
```
### 状态码
待定
### 示例
**请求**

```json
{
    "name":"eric",
    "password":"8520",
    "email":"1585416826@qq.com",
    "code":"458963"
}
```
**响应**

1. 成功
    ```json
        {
            "msg":"注册成功"
        }
    ```

2. 失败
    ```json
        {
            "msg":"邮箱验证码不正确"
        }
    ```
## 登录接口
### 接口概述
该接口用于用户的登录请求，方便用户进入系统对自己的文件资源进行管理
### 请求URL
`http://192.168.0.149:8888/user/login`
### 请求方式
`POST`
### 请求参数
1. 通过用户名和密码登录
    ```json
    {
        "name":"",
        "password":"",
    }
    ```
2. 通过邮箱进行登录
    ```json
    {
        "email":"1585416826@qq.com"
        "code":"158645"
    }
    ```
### 响应参数
```json
{
    "msg":"",
    "token":"",
    "refresh_token":""
}
```
### 示例
**请求**
```json
{
    "name":"eric",
    "password":"8520"
}
```
**响应**
1. 成功
    ```json
        {
            "msg":"登录成功"
        }
    ```
2. 失败
    ```json
        {
            "msg":"用户名或者密码错误"
        }
    ```
## 邮箱验证码接口
### 接口概述
用户在进行登录或者注册时，需要对用户的邮箱进行验证，通过该接口可以获取邮箱的验证码
### 请求URL
`http://192.168.0.149:8888/user/email/code`
### 请求方式
`GET`
### 请求参数
```json
{
    "email":""
}
```
### 响应参数
```json
{
    "msg":"",
    "code":""
}
```
### 示例
**请求**

**响应**

## 用户详情接口
### 接口概述
该接口用于查看用户的详细信息，包括用户名和邮箱
### 请求URL
`http://192.168.0.149:8888/user/detail`
### 请求方式
`GET`
### 请求参数
```json
{
    "uuid":""
}
```
### 响应参数
```json
{
    "name":"",
    "email":""
}
```
### 示例
**请求**

**响应**

## 文件上传接口
### 接口概述
该接口用于用户进行上传文件资源
### 请求URL
`http://192.168.0.149:8888/user/file/upload`
### 请求方式
`POST`
### 请求参数
请求参数是form-data,用户选择自己的文件进行上传
### 响应参数
```json
{
    "uuid":"",
    "msg":""
}
```
 返回uuid，方便后序用户对该文件进行操作时，后台知道是哪一个文件
### 示例
**请求**

**响应**

## 建立文件夹接口
### 接口概述
用户可以通过该接口自行创建文件夹，方便用户对自己的资源进行管理
### 请求URL
`http://192.168.0.149:8888/user/folder/create`
### 请求方式
`POST`
### 请求参数
```json
{
    "parent_id":"",
    "name":"",
    
}
```
### 响应参数
```json
{
    "msg":"",
    "uuid":""
}
```
### 示例
**请求**

**响应**

## 获取文件列表接口
### 接口概述
客户端通过该接口可以查看用户当前目录层级下的资源列表
### 请求URL
`http://192.168.0.149:8888/user/file/list`
### 请求方式
`GET`
### 请求参数
```json
{
    "uuid":"",
}
```
### 响应参数
```json
{
    "msg":"",
    "filelist":[
        {
            "uuid":"",
            "center_reposiotry_uuid":"",
            "name":"",
            "extension":"",
            "size":"",
            "path":""
        }
    ]
}
```
### 示例
**请求**

**响应**

## 文件(夹)重命名接口


## 文件(夹)移动接口


## 文件(夹)删除接口


## token刷新接口